#!/bin/bash

echo "ğŸ” PowerPoint Quiz - Detailed WebSocket Logging Test"
echo "=================================================="
echo ""
echo "ğŸ“‹ This test will help you debug WebSocket issues with detailed logging"
echo ""
echo "ğŸ¯ Instructions:"
echo "1. Open http://localhost:3000 in your browser"
echo "2. Open Developer Tools (F12)"
echo "3. Go to Console tab"
echo "4. Follow the steps below and watch the console logs"
echo ""
echo "ğŸ“Š What to look for in console:"
echo "   ğŸš€ [App] - App initialization and WebSocket URL setup"
echo "   ğŸ”Œ [WebSocket] - WebSocket connection attempts and status"
echo "   ğŸ“¤ [useQuiz] - Event sending attempts"
echo "   ğŸ“¨ [useQuiz] - Message receiving and processing"
echo "   ğŸ  [AdminLogin] - Room creation attempts"
echo "   ğŸšª [ParticipantLogin] - Room joining attempts"
echo ""
echo "ğŸ§ª Test Steps:"
echo ""
echo "STEP 1: Check WebSocket Connection"
echo "---------------------------------"
echo "1. Click 'ğŸ”§ Ğ¢ĞµÑÑ‚ WebSocket' button"
echo "2. Try connecting to 'ws://localhost:3000/ws'"
echo "3. Check console for connection logs"
echo ""
echo "STEP 2: Test Room Creation (with backend)"
echo "----------------------------------------"
echo "1. Start backend: cd backend && go run cmd/server/main.go"
echo "2. Go back to main page"
echo "3. Click 'Ğ¯ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€'"
echo "4. Click 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ĞºĞ²Ğ¸Ğ·'"
echo "5. Watch console for detailed logs"
echo ""
echo "STEP 3: Test Room Joining"
echo "------------------------"
echo "1. Open another tab"
echo "2. Click 'Ğ¯ ÑƒÑ‡Ğ°ÑÑ‚Ğ½Ğ¸Ğº'"
echo "3. Enter room code from step 2"
echo "4. Enter nickname"
echo "5. Click 'ĞŸÑ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½Ğ¸Ñ‚ÑŒÑÑ'"
echo "6. Watch console for detailed logs"
echo ""
echo "ğŸ” Key things to check:"
echo "- Does WebSocket connect successfully?"
echo "- Are events being sent when buttons are clicked?"
echo "- Are server responses being received?"
echo "- Are there any error messages?"
echo ""
echo "ğŸ“ Log Format Explanation:"
echo "ğŸš€ = Initialization/Setup"
echo "ğŸ”Œ = WebSocket Connection"
echo "ğŸ“¤ = Sending data"
echo "ğŸ“¨ = Receiving data"
echo "ğŸ  = Room operations"
echo "ğŸšª = Join operations"
echo "âœ… = Success"
echo "âŒ = Error"
echo "âš ï¸ = Warning"
echo "ğŸ”„ = State updates"
